<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Current and upcoming work by Yaroster.">
    <title>Projects</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/_astro/index.Bwr9uro6.css">
    <script type="module" src="/_astro/hoisted.6zktFTKN.js" defer></script>
    <style>
        :root {
            --hub-ease: cubic-bezier(0.4, 0, 0.2, 1);
            --text-primary: rgba(245, 245, 250, 0.92);
            --text-muted: rgba(148, 163, 184, 0.85);
        }
        .enter-transition {
            transition: transform 500ms var(--hub-ease), opacity 500ms var(--hub-ease);
        }

        .blog-meta {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 2rem;
            margin-top: 2rem;
        }

        .blog-meta a {
            text-decoration: none;
            color: var(--text-muted);
            transition: color 200ms var(--hub-ease);
            letter-spacing: 0.35em;
            font-size: 0.75rem;
            text-transform: uppercase;
        }

        .blog-meta a:hover,
        .blog-meta a:focus-visible {
            color: var(--text-primary);
        }

        .blog-lang {
            display: flex;
            gap: 0.5rem;
        }

        .blog-lang__button {
            appearance: none;
            border: 1px solid rgba(120, 134, 163, 0.28);
            background: rgba(18, 18, 26, 0.42);
            color: rgba(235, 235, 245, 0.7);
            letter-spacing: 0.16em;
            text-transform: uppercase;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.45rem 0.95rem;
            border-radius: 999px;
            cursor: pointer;
            transition: all 150ms ease;
        }

        .blog-lang__button:hover,
        .blog-lang__button:focus-visible {
            transform: translateY(-1px);
            border-color: rgba(255, 255, 255, 0.45);
            background: rgba(24, 24, 36, 0.7);
        }

        .blog-lang__button:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.18);
        }

        .blog-lang__button[data-active="true"] {
            border-color: rgba(255, 255, 255, 0.55);
            background: rgba(32, 32, 48, 0.85);
            color: rgba(245, 245, 250, 0.92);
        }

        @media (max-width: 424px) {
            .blog-meta {
                flex-direction: column;
                align-items: flex-start;
                justify-content: flex-start;
                gap: 0.75rem;
            }

            .blog-lang {
                flex-wrap: wrap;
                justify-content: flex-start;
            }
        }

        .project-card {
            position: relative;
            padding-inline-end: clamp(4.5rem, 8vw, 6.25rem);
            transition: transform 220ms var(--hub-ease);
        }

        .project-card:hover,
        .project-card:focus-within {
            transform: translateY(-6px);
        }

        .project-card__link {
            position: absolute;
            inset-inline-end: clamp(1.15rem, 3vw, 2.25rem);
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            width: clamp(3rem, 5.5vw, 3.9rem);
            height: clamp(3rem, 5.5vw, 3.9rem);
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 18px 52px rgba(12, 12, 24, 0.32);
            transition: transform 220ms var(--hub-ease), background-color 220ms var(--hub-ease), box-shadow 220ms var(--hub-ease);
            z-index: 20;
        }

        .project-card__link:hover,
        .project-card__link:focus-visible {
            background: rgba(255, 255, 255, 0.22);
            box-shadow: 0 24px 70px rgba(14, 14, 30, 0.42);
            transform: translateY(-50%) scale(1.05);
        }

        .project-card__link:focus-visible {
            outline: none;
        }

        .project-card__link svg {
            width: clamp(1.65rem, 2.8vw, 2rem);
            height: clamp(1.65rem, 2.8vw, 2rem);
            color: rgba(245, 245, 250, 0.92);
            transition: color 180ms var(--hub-ease);
        }

        .project-card__link:hover svg,
        .project-card__link:focus-visible svg {
            color: #ffffff;
        }

        .project-card__info {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            flex-grow: 1;
            margin-bottom: 1rem;
        }

        .project-card__logo {
            height: 4rem;
            width: 4rem;
            flex-shrink: 0;
            opacity: 0.8;
            order: -1;
        }

        .project-card__text {
            flex: 1;
            margin-bottom: 1rem;
        }

        .project-card__text h2 {
            line-height: 1.4;
        }

        .project-card__title-link {
            color: inherit;
            text-decoration: none;
            transition: color 200ms var(--hub-ease);
        }

        .project-card__title-link:hover,
        .project-card__title-link:focus-visible {
            color: #ffffff;
            text-decoration: underline;
        }

        .project-card__title-link:focus-visible {
            outline: none;
        }

        [dir="rtl"] .project-card__link svg {
            transform: scaleX(-1);
        }

        [dir="rtl"] .project-card__logo {
            order: -1;
        }

        [dir="rtl"] .project-card__text {
            text-align: right;
        }

        @media (max-width: 1024px) {
            .project-card {
                padding-inline-end: clamp(3.5rem, 7vw, 5.25rem);
            }
        }

        @media (max-width: 768px) {
            .project-card {
                padding-inline-end: 3.2rem;
            }

            .project-card__link {
                inset-inline-end: 1.35rem;
                width: 2.85rem;
                height: 2.85rem;
            }
        }

        @media (max-width: 640px) {
            .project-card {
                padding-inline-end: 1.75rem;
            }

            .project-card__link {
                display: none;
            }
        }

        .c-cursor {
            position: absolute !important;
            z-index: 2147483647 !important;
            pointer-events: none !important;
            margin-top: -30px !important;
        }
    </style>
</head>
<body class="bg-black leading-relaxed text-neutral-200 tracking-wide antialiased selection:bg-neutral-300 selection:text-neutral-900 z-10 relative">
<style>astro-island,astro-slot,astro-static-slot{display:contents}</style>
<script>(()=>{var l=(o,t)=>{let i=async()=>{await(await o())()};let e=typeof t.value=="object"?t.value:void 0;let s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script>
<astro-island uid="2pps7D" prefix="r0" component-url="/_astro/SparklesCore.P7ccQP1k.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props='{"id":[0,"tsparticlesfullpage"],"background":[0,"transparent"],"minSize":[0,0.6],"maxSize":[0,1.4],"opacity":[0,0.2],"particleDensity":[0,100],"className":[0,"w-full h-full fixed inset-0 z-0 pointer-events-none"],"particleColor":[0,"#FFFFFF"]}' ssr="" client="idle" opts='{"name":"SparklesCore","value":true}' await-children=""><div class="opacity-0 w-full h-full fixed inset-0 z-0 pointer-events-none"></div><!--astro:end--></astro-island>
<div class="relative hero z-10">
    <div class="mx-auto max-w-screen-xl px-6 py-16 font-sans md:px-12 lg:px-24">
        <div class="blog-meta">
            <a href="hub.html" data-i18n="back-link">← Back</a>
            <div class="blog-lang" role="group" aria-label="Language" dir="ltr">
                <button type="button" class="blog-lang__button" data-lang="en">EN</button>
                <button type="button" class="blog-lang__button" data-lang="fr">FR</button>
                <button type="button" class="blog-lang__button" data-lang="ar">AR</button>
                <button type="button" class="blog-lang__button" data-lang="zh">ZH</button>
            </div>
        </div>
        <div class="mt-8 space-y-4">
            <p class="text-sm uppercase tracking-[0.4em] text-neutral-400" data-i18n="status">In progress</p>
            <h1 class="enter-transition text-4xl md:text-5xl font-bold text-neutral-100" data-hub-target data-i18n="title">Projects</h1>
            <p class="max-w-2xl text-sm md:text-base text-neutral-400 leading-relaxed" data-i18n="description">A snapshot of what I am building and exploring. Longer write-ups, repositories, and interactive demos will land here soon.</p>
        </div>
        <div class="mt-12 grid gap-8 grid-cols-3" data-hub-fade>
            <!-- skoomaDen -->
            <article class="project-card rounded-3xl bg-white/5 p-8 backdrop-blur-xl transition hover:bg-white/10 flex flex-col">
                <div class="project-card__info">
                    <div class="project-card__text">
                        <h2 class="text-xl font-semibold text-neutral-100">
                            <a href="https://skoomaden.me" target="_blank" rel="noopener noreferrer" class="project-card__title-link" data-i18n="project-skoomaden-title">skoomaDen</a>
                        </h2>
                        <p class="text-sm text-neutral-400 leading-relaxed" data-i18n="project-skoomaden-desc">My personal blog where I write about mathematics, design, and development. Built with a custom RSS feed and multilingual support.</p>
                    </div>
                    <img src="https://raw.githubusercontent.com/Yaroster/yaro/refs/heads/main/Logo_skoomaDen.svg" alt="skoomaDen" class="project-card__logo">
                </div>
                <a href="https://skoomaden.me" target="_blank" rel="noopener noreferrer" class="project-card__link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </article>

            <!-- Secunda -->
            <article class="project-card rounded-3xl bg-white/5 p-8 backdrop-blur-xl transition hover:bg-white/10 flex flex-col">
                <div class="project-card__info">
                    <div class="project-card__text">
                        <h2 class="text-xl font-semibold text-neutral-100">
                            <a href="https://huggingface.co/Yaroster/Secunda-0.1-GGUF" target="_blank" rel="noopener noreferrer" class="project-card__title-link" data-i18n="project-secunda-title">Secunda</a>
                        </h2>
                        <p class="text-sm text-neutral-400 leading-relaxed" data-i18n="project-secunda-desc">The Primétoile Engine, Visual novel generation under starlight. Fine-tuned LLaMA model that transforms natural language prompts into Ren'Py scripts.</p>
                    </div>
                    <img src="https://raw.githubusercontent.com/Yaroster/yaro/refs/heads/main/Logo_Librairie.svg" alt="Secunda" class="project-card__logo">
                </div>
                <a href="https://huggingface.co/Yaroster/Secunda-0.1-GGUF" target="_blank" rel="noopener noreferrer" class="project-card__link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </article>

            <!-- Masser -->
            <article class="project-card rounded-3xl bg-white/5 p-8 backdrop-blur-xl transition hover:bg-white/10 flex flex-col">
                <div class="project-card__info">
                    <div class="project-card__text">
                        <h2 class="text-xl font-semibold text-neutral-100">
                            <a href="https://masser.online" target="_blank" rel="noopener noreferrer" class="project-card__title-link" data-i18n="project-masser-title">Masser</a>
                        </h2>
                        <p class="text-sm text-neutral-400 leading-relaxed" data-i18n="project-masser-desc">Minecraft survival server with custom races (Wolf/Fox), class system (Warrior/Archer), economy, clans, and quality-of-life features.</p>
                    </div>
                    <img src="https://raw.githubusercontent.com/Yaroster/yaro/refs/heads/main/Logo_Masser.svg" alt="Masser" class="project-card__logo">
                </div>
                <a href="https://masser.online" target="_blank" rel="noopener noreferrer" class="project-card__link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </article>
        </div>
    </div>
</div>
<script>
(() => {
    const stored = sessionStorage.getItem('hubTransition');
    if (!stored) return;
    let data;
    try {
        data = JSON.parse(stored);
    } catch {
        sessionStorage.removeItem('hubTransition');
        return;
    }
    if (!data?.target || !data.target.endsWith('projects.html')) return;
    sessionStorage.removeItem('hubTransition');

    const ease = 'cubic-bezier(0.4, 0, 0.2, 1)';
    const animate = (el, delay = 0) => {
        if (!el) return;
        el.style.transition = `opacity 420ms ${ease}`;
        el.style.opacity = '0';
        const cleanup = () => {
            el.style.removeProperty('opacity');
            el.style.removeProperty('transition');
        };
        const onEnd = (event) => {
            if (event.propertyName !== 'opacity') return;
            el.removeEventListener('transitionend', onEnd);
            cleanup();
        };
        el.addEventListener('transitionend', onEnd);
        setTimeout(() => {
            requestAnimationFrame(() => {
                el.style.opacity = '1';
            });
        }, delay);
        setTimeout(() => {
            cleanup();
            el.removeEventListener('transitionend', onEnd);
        }, delay + 1200);
    };

    const heading = document.querySelector('[data-hub-target]');
    const fades = Array.from(document.querySelectorAll('[data-hub-fade]'));
    animate(heading);
    fades.forEach((node, idx) => animate(node, 80 * (idx + 1)));
})();

// i18n System
(() => {
  const translations = {
    en: {
      'back-link': '← Back',
      'status': 'In progress',
      'title': 'Projects',
      'description': 'What I’m building and exploring right now, research prototypes, game worlds, and long-form writing.',
      'project-live': 'Live',
      'project-research': 'Research',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': 'My personal blog on mathematics, AI, design, and culture, multilingual, with a custom RSS.',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'The Primétoile engine for visual-novel writing: a fine-tuned LLaMA pipeline that turns natural-language briefs into production-ready Ren’Py (.rpy) scripts.',
      'project-masser-title': 'Masser',
      'project-masser-desc': 'A modded Minecraft survival server with playable races (Wolf/Fox), class roles (Warrior/Archer), economy, clans, and thoughtful QoL features.',
      'visit-site': 'Visit Site',
      'view-model': 'View Model'
    },

    fr: {
      'back-link': '← Retour',
      'status': 'En cours',
      'title': 'Projets',
      'description': 'Ce que je construis et explore en ce moment, prototypes de recherche, mondes de jeu et écriture longue.',
      'project-live': 'En ligne',
      'project-research': 'Recherche',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': 'Mon blog personnel sur les mathématiques, l’IA, le design et la culture, multilingue, avec un flux RSS personnalisé.',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'Le moteur Primétoile pour l’écriture de visual novels : une chaîne LLaMA fine-tuning qui transforme des briefs en langage naturel en scripts Ren’Py (.rpy) prêts pour la prod.',
      'project-masser-title': 'Masser',
      'project-masser-desc': 'Serveur Minecraft « survival » moddé avec races jouables (Loup/Renard), rôles de classes (Guerrier/Archer), économie, clans et nombreuses améliorations pratiques.',
      'visit-site': 'Visiter le site',
      'view-model': 'Voir le modèle'
    },

    ar: {
      'back-link': '→ رجوع',
      'status': 'قيد التنفيذ',
      'title': 'المشاريع',
      'description': 'ما أعمل عليه وأستكشفه حالياً, نماذج بحثية، عوالم ألعاب، وكتابة معمّقة.',
      'project-live': 'متاح',
      'project-research': 'بحث',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': 'مدونتي الشخصية حول الرياضيات والذكاء الاصطناعي والتصميم والثقافة, متعددة اللغات مع خلاصة RSS مخصّصة.',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'محرك Primétoile لكتابة الروايات المرئية: خط أنابيب LLaMA مُحسَّن يحوّل الأوصاف الطبيعية إلى نصوص Ren’Py (.rpy) جاهزة للإنتاج.',
      'project-masser-title': 'Masser',
      'project-masser-desc': 'خادم Minecraft بنمط النجاة مع أعراق قابلة للّعب (ذئب/ثعلب)، أدوار فئات (محارب/رامي)، اقتصاد، عشائر، وتحسينات تُسَهِّل تجربة اللعب.',
      'visit-site': 'زيارة الموقع',
      'view-model': 'عرض النموذج'
    },

    zh: {
      'back-link': '← 返回',
      'status': '进行中',
      'title': '项目',
      'description': '我正在打造与探索的内容——研究型原型、游戏世界以及长篇写作。',
      'project-live': '在线',
      'project-research': '研究',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': '我的个人博客，聚焦数学、AI、设计与文化——支持多语言，并提供自定义 RSS。',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'Primétoile 的视觉小说写作引擎：基于精调 LLaMA 的流水线，将自然语言需求转化为可用于生产的 Ren’Py（.rpy）脚本。',
      'project-masser-title': 'Masser',
      'project-masser-desc': '一台经过 Mod 的 Minecraft 生存服务器，提供可玩种族（狼/狐狸）、职业（战士/弓手）、经济系统、氏族与大量体验优化。',
      'visit-site': '访问网站',
      'view-model': '查看模型'
    }
  };

  const detectLanguage = () => {
    const stored = sessionStorage.getItem('blogLanguage');
    if (stored) return stored;
    const preferred = (navigator.languages || [navigator.language || 'en']).map((lang) => (lang || '').toLowerCase());
    if (preferred.some((lang) => lang.startsWith('fr'))) return 'fr';
    if (preferred.some((lang) => lang.startsWith('ar'))) return 'ar';
    if (preferred.some((lang) => lang.startsWith('zh') || lang.includes('han'))) return 'zh';
    return 'en';
  };

  const applyTranslations = (lang) => {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach((el) => {
      const key = el.getAttribute('data-i18n');
      if (translations[lang] && translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });
    document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
  };

  let selectedLang = detectLanguage();
  const langButtons = document.querySelectorAll('[data-lang]');

  const updateButtons = () => {
    langButtons.forEach(btn => {
      btn.setAttribute('data-active', btn.dataset.lang === selectedLang ? 'true' : 'false');
    });
  };

  applyTranslations(selectedLang);
  updateButtons();

  langButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      selectedLang = btn.dataset.lang;
      sessionStorage.setItem('blogLanguage', selectedLang);
      applyTranslations(selectedLang);
      updateButtons();
    });
  });
})();
(() => {
  const translations = {
    en: {
      'back-link': '← Back',
      'status': 'In progress',
      'title': 'Projects',
      'description': 'What I’m building and exploring right now, research prototypes, game worlds, and long-form writing.',
      'project-live': 'Live',
      'project-research': 'Research',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': 'My personal blog on mathematics, AI, design, and culture, multilingual, with a custom RSS.',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'The Primétoile engine for visual-novel writing: a fine-tuned LLaMA pipeline that turns natural-language briefs into production-ready Ren’Py (.rpy) scripts.',
      'project-masser-title': 'Masser',
      'project-masser-desc': 'A modded Minecraft survival server with playable races (Wolf/Fox), class roles (Warrior/Archer), economy, clans, and thoughtful QoL features.',
      'visit-site': 'Visit Site',
      'view-model': 'View Model'
    },

    fr: {
      'back-link': '← Retour',
      'status': 'En cours',
      'title': 'Projets',
      'description': 'Ce que je construis et explore en ce moment, prototypes de recherche, mondes de jeu et écriture longue.',
      'project-live': 'En ligne',
      'project-research': 'Recherche',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': 'Mon blog personnel sur les mathématiques, l’IA, le design et la culture, multilingue, avec un flux RSS personnalisé.',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'Le moteur Primétoile pour l’écriture de visual novels : une chaîne LLaMA fine-tuning qui transforme des briefs en langage naturel en scripts Ren’Py (.rpy) prêts pour la prod.',
      'project-masser-title': 'Masser',
      'project-masser-desc': 'Serveur Minecraft survival moddé avec races jouables (Loup/Renard), rôles de classes (Guerrier/Archer), économie, clans et nombreuses améliorations pratiques.',
      'visit-site': 'Visiter le site',
      'view-model': 'Voir le modèle'
    },

    ar: {
      'back-link': '→ رجوع',
      'status': 'قيد التنفيذ',
      'title': 'المشاريع',
      'description': 'ما أعمل عليه وأستكشفه حالياً, نماذج بحثية، عوالم ألعاب، وكتابة معمّقة.',
      'project-live': 'متاح',
      'project-research': 'بحث',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': 'مدونتي الشخصية حول الرياضيات والذكاء الاصطناعي والتصميم والثقافة, متعددة اللغات مع خلاصة RSS مخصّصة.',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'محرك Primétoile لكتابة الروايات المرئية: خط أنابيب LLaMA مُحسَّن يحوّل الأوصاف الطبيعية إلى نصوص Ren’Py (.rpy) جاهزة للإنتاج.',
      'project-masser-title': 'Masser',
      'project-masser-desc': 'خادم Minecraft بنمط النجاة مع أعراق قابلة للّعب (ذئب/ثعلب)، أدوار فئات (محارب/رامي)، اقتصاد، عشائر، وتحسينات تُسَهِّل تجربة اللعب.',
      'visit-site': 'زيارة الموقع',
      'view-model': 'عرض النموذج'
    },

    zh: {
      'back-link': '← 返回',
      'status': '进行中',
      'title': '项目',
      'description': '我正在打造与探索的内容——研究型原型、游戏世界以及长篇写作。',
      'project-live': '在线',
      'project-research': '研究',
      'project-skoomaden-title': 'skoomaDen',
      'project-skoomaden-desc': '我的个人博客，聚焦数学、AI、设计与文化——支持多语言，并提供自定义 RSS。',
      'project-secunda-title': 'Secunda',
      'project-secunda-desc': 'Primétoile 的视觉小说写作引擎：基于精调 LLaMA 的流水线，将自然语言需求转化为可用于生产的 Ren’Py（.rpy）脚本。',
      'project-masser-title': 'Masser',
      'project-masser-desc': '一台经过 Mod 的 Minecraft 生存服务器，提供可玩种族（狼/狐狸）、职业（战士/弓手）、经济系统、氏族与大量体验优化。',
      'visit-site': '访问网站',
      'view-model': '查看模型'
    }
  };

  const detectLanguage = () => {
    const stored = sessionStorage.getItem('blogLanguage');
    if (stored) return stored;
    const preferred = (navigator.languages || [navigator.language || 'en']).map((lang) => (lang || '').toLowerCase());
    if (preferred.some((lang) => lang.startsWith('fr'))) return 'fr';
    if (preferred.some((lang) => lang.startsWith('ar'))) return 'ar';
    if (preferred.some((lang) => lang.startsWith('zh') || lang.includes('han'))) return 'zh';
    return 'en';
  };

  const applyTranslations = (lang) => {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach((el) => {
      const key = el.getAttribute('data-i18n');
      if (translations[lang] && translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });
    document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
  };

  let selectedLang = detectLanguage();
  const langButtons = document.querySelectorAll('[data-lang]');

  const updateButtons = () => {
    langButtons.forEach(btn => {
      btn.setAttribute('data-active', btn.dataset.lang === selectedLang ? 'true' : 'false');
    });
  };

  applyTranslations(selectedLang);
  updateButtons();

  langButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      selectedLang = btn.dataset.lang;
      sessionStorage.setItem('blogLanguage', selectedLang);
      applyTranslations(selectedLang);
      updateButtons();
    });
  });
})();

</script>

</body>
</html>
